{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/AmisDesarrolladorSen/Desktop/GearTech/GearTech-GearTechV1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component, ElementRef, ViewChild } from '@angular/core';\nimport { ProductsC } from 'src/app/Models/Products.interface';\nlet AddProductComponent = class AddProductComponent {\n  constructor(apiProducts, snackBar) {\n    this.apiProducts = apiProducts;\n    this.snackBar = snackBar;\n    this.productNew = new ProductsC();\n    this.cargando = false;\n  }\n\n  add() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this.productNew.productName) {\n        return alert(\"Ingresa Nombre del prodcuto\");\n      }\n\n      if (!_this.productNew.productPrice) {\n        return alert(\"Ingresa Precio del prodcuto\");\n      }\n\n      if (!_this.productNew.productStock) {\n        return alert(\"Ingresa Cantidad del prodcuto\");\n      }\n\n      if (!_this.productNew.idCategory) {\n        return alert(\"Ingresa Categoria del prodcuto\");\n      }\n\n      let archiv = _this.foto.nativeElement.files;\n\n      if (!archiv.length) {\n        return alert(\"Ingresa Imagen del producto\");\n      }\n\n      _this.cargando = true; // guarda prodcuto\n\n      const fd = new FormData();\n\n      for (let x = 0; x < archiv.length; x++) {\n        fd.append(`foto_${x}`, archiv[x]);\n      }\n\n      console.log('fb', fd);\n\n      _this.apiProducts.AddProducts(_this.productNew);\n\n      _this.snackBar.open(\"Producto guardado\", \"\", {\n        duration: 1500,\n        horizontalPosition: \"start\",\n        verticalPosition: \"top\"\n      });\n\n      _this.cargando = false;\n      _this.productNew = new ProductsC();\n      _this.foto.nativeElement.value = \"\";\n    })();\n  }\n\n  ngOnInit() {}\n\n  onUploadFinish(event) {\n    console.log('event', event);\n  }\n\n};\n\n__decorate([ViewChild(\"foto\", {\n  read: ElementRef\n})], AddProductComponent.prototype, \"foto\", void 0);\n\nAddProductComponent = __decorate([Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.css'],\n  styles: []\n})], AddProductComponent);\nexport { AddProductComponent };","map":{"version":3,"sources":["C:\\Users\\AmisDesarrolladorSen\\Desktop\\GearTech\\GearTech-GearTechV1\\src\\app\\Views\\add-product\\add-product.component.ts"],"names":[],"mappings":";;AACA,SAAS,SAAT,EAAoB,UAApB,EAAwC,SAAxC,QAAyD,eAAzD;AAEA,SAAS,SAAT,QAAqC,mCAArC;AAQA,IAAa,mBAAmB,GAAhC,MAAa,mBAAb,CAAgC;AAM9B,EAAA,WAAA,CACU,WADV,EAEY,QAFZ,EAEiC;AADvB,SAAA,WAAA,GAAA,WAAA;AACE,SAAA,QAAA,GAAA,QAAA;AAPb,SAAA,UAAA,GAAa,IAAI,SAAJ,EAAb;AAUQ,SAAA,QAAA,GAAW,KAAX;AAFF;;AAKC,EAAA,GAAG,GAAA;AAAA;;AAAA;AACP,UAAG,CAAC,KAAI,CAAC,UAAL,CAAgB,WAApB,EAAgC;AAC9B,eAAO,KAAK,CAAC,6BAAD,CAAZ;AACD;;AACD,UAAG,CAAC,KAAI,CAAC,UAAL,CAAgB,YAApB,EAAiC;AAC/B,eAAO,KAAK,CAAC,6BAAD,CAAZ;AACD;;AACD,UAAG,CAAC,KAAI,CAAC,UAAL,CAAgB,YAApB,EAAiC;AAC/B,eAAO,KAAK,CAAC,+BAAD,CAAZ;AACD;;AACD,UAAG,CAAC,KAAI,CAAC,UAAL,CAAgB,UAApB,EAA+B;AAC7B,eAAO,KAAK,CAAC,gCAAD,CAAZ;AACD;;AACD,UAAI,MAAM,GAAG,KAAI,CAAC,IAAL,CAAU,aAAV,CAAwB,KAArC;;AACA,UAAG,CAAC,MAAM,CAAC,MAAX,EAAkB;AAChB,eAAO,KAAK,CAAC,6BAAD,CAAZ;AACD;;AACD,MAAA,KAAI,CAAC,QAAL,GAAgB,IAAhB,CAjBO,CAkBP;;AAGA,YAAM,EAAE,GAAG,IAAI,QAAJ,EAAX;;AACA,WAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,MAAM,CAAC,MAA3B,EAAmC,CAAC,EAApC,EAAuC;AACrC,QAAA,EAAE,CAAC,MAAH,CAAU,QAAQ,CAAC,EAAnB,EAAuB,MAAM,CAAC,CAAD,CAA7B;AACD;;AACD,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ,EAAiB,EAAjB;;AAEA,MAAA,KAAI,CAAC,WAAL,CAAiB,WAAjB,CAA6B,KAAI,CAAC,UAAlC;;AACA,MAAA,KAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,mBAAnB,EAAwC,EAAxC,EAA4C;AAC1C,QAAA,QAAQ,EAAE,IADgC;AAE1C,QAAA,kBAAkB,EAAE,OAFsB;AAG1C,QAAA,gBAAgB,EAAE;AAHwB,OAA5C;;AAMA,MAAA,KAAI,CAAC,QAAL,GAAgB,KAAhB;AACA,MAAA,KAAI,CAAC,UAAL,GAAkB,IAAI,SAAJ,EAAlB;AACA,MAAA,KAAI,CAAC,IAAL,CAAU,aAAV,CAAwB,KAAxB,GAAgC,EAAhC;AApCO;AAqCR;;AAED,EAAA,QAAQ,GAAA,CAEP;;AAED,EAAA,cAAc,CAAC,KAAD,EAAM;AAClB,IAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAoB,KAApB;AACA;;AA3D4B,CAAhC;;AAII,UAAA,CAAA,CAFF,SAAS,CAAC,MAAD,EAAS;AACjB,EAAA,IAAI,EAAE;AADW,CAAT,CAEP,CAAA,E,6BAAA,E,MAAA,E,KAAiB,CAAjB,CAAA;;AAJS,mBAAmB,GAAA,UAAA,CAAA,CAL/B,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,iBADD;AAET,EAAA,WAAW,EAAE,8BAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,6BAAD,CAHF;;AAAA,CAAD,CAKsB,CAAA,EAAnB,mBAAmB,CAAnB;SAAA,mB","sourcesContent":["import { formatDate } from '@angular/common';\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { ProductsC, ProductsI } from 'src/app/Models/Products.interface';\nimport { ProductsService } from 'src/app/Services/Products/products.service';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.css']\n})\nexport class AddProductComponent implements OnInit {\n productNew = new ProductsC();\n @ViewChild(\"foto\", {\n   read: ElementRef\n }) foto: ElementRef;\n\n  constructor(\n    private apiProducts: ProductsService\n    , private snackBar: MatSnackBar\n  ) { }\n\n  public cargando = false;\n\n  \n  async add(){\n    if(!this.productNew.productName){\n      return alert(\"Ingresa Nombre del prodcuto\");\n    }\n    if(!this.productNew.productPrice){\n      return alert(\"Ingresa Precio del prodcuto\");\n    }\n    if(!this.productNew.productStock){\n      return alert(\"Ingresa Cantidad del prodcuto\");\n    }\n    if(!this.productNew.idCategory){\n      return alert(\"Ingresa Categoria del prodcuto\");\n    }\n    let archiv = this.foto.nativeElement.files;\n    if(!archiv.length){\n      return alert(\"Ingresa Imagen del producto\");\n    }\n    this.cargando = true;\n    // guarda prodcuto\n    \n    \n    const fd = new FormData();\n    for (let x = 0; x < archiv.length; x++){\n      fd.append(`foto_${x}`, archiv[x])\n    }\n    console.log('fb',fd)\n\n    this.apiProducts.AddProducts(this.productNew);\n    this.snackBar.open(\"Producto guardado\", \"\", {\n      duration: 1500,\n      horizontalPosition: \"start\",\n      verticalPosition: \"top\",\n    });\n\n    this.cargando = false;\n    this.productNew = new ProductsC();\n    this.foto.nativeElement.value = \"\";\n  }\n\n  ngOnInit(): void {\n   \n  }\n\n  onUploadFinish(event) {\n    console.log('event',event);\n   }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}